

<div class="container" ng-controller="rateCtrl as vm">
    <!--
    
    -->

    <uib-tabset active="vm.activeTab">
        <uib-tab index="0" heading="Rate It">
            <br>
            <div>
                <div class="col-md-12">
                    <form name="form" role="form" autocomplete="off">
                        <div class="row">
                            <select-product selected="vm.rate.product"></select-product>
                            <br>
                            <div class="form-group">
                                <span uib-rating ng-model="vm.rate.score" max="10" aria-labelledby="default-rating"></span>
                            </div>

                            <div class="form-group">
                                <label for="description" class="control-label">Description</label>
                                <textarea rows="6" class="form-control" id="description" ng-model="vm.rate.description"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 form-group">
                                <button id="submit" type="submit" class="btn btn-default" ng-click="vm.rateIt()">
                                    <span class="glyphicon glyphicon-ok"></span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>                   
        </uib-tab>
        <uib-tab index="1" heading="My Rates">
            <div ng-cloak>
                <br>
                <div class="col-md-12">
                    <div class="row">
                        <div class="panel panel-default panel-table">
                            <div class="panel-heading">

                            </div>
                            <div class="panel-body">
                                <table class="table table-hover" cellspacing="0" width="100%">
                                    <tr>
                                        <th>Name</th>
                                        <th>Producer</th>
                                        <th>Rate</th>
                                        <th></th>
                                        <th></th>  
                                    </tr>
                                    <tr ng-repeat="rate in vm.rates track by $index">
                                        <td class="col-md-3" ng-click="vm.showBeverageDetails(rate)">{{rate.product.name}}</td>
                                        <td class="col-md-3" ng-click="vm.showBeverageDetails(rate)">{{rate.product.producer}}</td>
                                        <td class="col-md-3" ng-click="vm.showBeverageDetails(rate)" ng-hide="vm['editRate' + rate.rateId]">{{rate.rate}}</td>
                                        <td ng-show="vm['editRate' + rate.rateId]">
                                            <span uib-rating ng-model="rate.rate" max="10" aria-labelledby="default-rating"></span>
                                            <!--<input type="text" class="form-control" ng-model="rate.rate">-->
                                        </td>
                                        <td  class="col-md-2">
                                            <div>
                                                <button id="deleteRate" type="submit" class="pull-right btn btn-default" ng-click="vm.deleteRate(rate)">
                                                    <span class="glyphicon glyphicon-remove"></span>
                                                </button>
                                            </div>
                                            <div ng-hide="vm['editRate' + rate.rateId]">
                                                <button id="updateRate" type="submit" class="pull-right btn btn-default" ng-click="vm['editRate' + rate.rateId] = true">
                                                    <span class="glyphicon glyphicon-pencil"></span>
                                                </button> 
                                            </div>
                                            <div ng-show="vm['editRate' + rate.rateId]">
                                                <button  id="saveRate" type="submit" class="pull-right btn btn-default" ng-click="vm['editRate' + rate.rateId] = false; vm.saveRate(rate)">
                                                    <span class="glyphicon glyphicon-ok"></span>
                                                </button>
                                            </div>


                                        </td>

                                    </tr>
                                </table>                                       
                            </div>
                            <div class="panel-footer">

                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </uib-tab>
        <uib-tab index="2" heading="Beverage">
            <div ng-cloak >
                <br>
                <select-product selected="vm.rate.product"></select-product>                       
                <product-details ng-show="vm.rate.product" product="vm.rate.product"></product-details>                      
            </div>
        </uib-tab>
        <uib-tab index="3" heading="Popular">

        </uib-tab>
    </uib-tabset>


</div>

